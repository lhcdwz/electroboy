<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>电击小子网站～</title>
    <!-- 再次声明，非官方网站，这是介绍电击小子相关内容的一个网页 -->
    <meta name="keywords" content="电击小子,电击,electroboy,电击小子网站,电击小子高清图片,电击百科,火星大力拳,雷霆电击光">
    <meta name="description" content="欢迎访问电击小子网站,本网站是一个收集电击小子相关内容的网页,更多详细信息请访问我查看!">
    <link rel="shortcut icon" href="./image/djxzlogo.ico" type="image/x-icon" />
    <link href="css/main.css" rel="stylesheet">

</head>

<body>
    <audio id="backgroundMusic" src="./music/电击小子 完整原版.mp3" loop></audio>
    <div class="top">
        <div class="div1280">
            <div class="link_chen">
                <a href="">！！！非官方网站，仅展示电击小子相关内容</a>
            </div>
            <img src="./image/djxzlogo.webp" class="logo" alt="电击小子_ele电击文化科技集团">
            <ul class="top_ul1 top_ul">
                <li class="index-t1">
                    <a href="./">首页</a>
                </li>

                <li><a href="./renwu.html">人物介绍</a>
                </li>

                <li><a href="javascript:void();">影视</a>
                    <ul class="t_ul">
                        <li>
                            <a href="tv.html">TV系列</a>
                        </li>
                    </ul>
                </li>

                <li><a href="javascript:void();">音乐</a>
                    <ul class="t_ul">

                        <li><a href="music.html">《电击小子》音乐</a>
                            <div class="t_line"></div>
                        </li>
                        <li><a href="music.html">《电击小子》音乐</a>
                            <div class="t_line"></div>
                        </li>
                        <li><a href="poster.html">《电击小子》歌词海报</a>
                            
                        </li>
                    </ul>
                </li>

            </ul>

            <ul class="top_ul2 top_ul">
                <li><a href="javascript:void();">相关下载</a>
                    <ul class="t_ul">

                        <li><a href="cheyan.html">电击小子测验卷</a>
                            <div class="t_line"></div>
                        </li>
                
                        <li><a href="poster.html">电击小子海报</a>
                            <!-- <div class="t_line"></div> -->
                        </li>
                    </ul>
                </li>
                
                <li>
                    <a target="_blank" href="">友链</a>
                    <ul class="t_ul">
                        <li>
                            <a
                                href="https://baike.baidu.com/item/%E7%94%B5%E5%87%BB%E5%B0%8F%E5%AD%90/922365?fromModule=lemma_sense-layer#viewPageContent">百度百科</a>
                            <div class="t_line"></div>
                        </li>
                        <li><a target="_blank" href="https://eboy.huijiwiki.com/">电击百科</a></li>
                    </ul>
                </li>



                <li><a href="javascript:void();">QQ群</a>
                    <ul class="t_ul">

                        <li><p onclick="showGroupCard()">电击小子交流群</p>
                            <div class="t_line"></div>
                        </li>
                        
                        <li><p onclick="showGroupCard()">QQ群:364310663</p></li>
                    
                    </ul>
                </li>
                
                <li><a href="" target="_blank">项目地址</a>
                    <ul class="t_ul">
                        <li>
                            <a href="https://github.com/lhcdwz/electroboy">GitHub</a>
                            <div class="t_line"></div>
                        </li>
                        <li><a href="">项目介绍</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>

    <!-- <div class="return_top_index">
        <img src="./image/dian.webp" class="return_bg">
        <img src=".picture/return_top.webp" class="return_top">
    </div> -->


    <div class="tp-banner-container" style="cursor: pointer;">
        <div class="tp-banner">
            <ul id="GetPPT" class="GetPPT">
            </ul>
        </div>
    </div>
    <div class="index1">
        <div class="i1_title">
            <div class="i1_title_h2">
                <p>电击小子系列</p>
                electro boy series
            </div>
        </div>


        <div class="index2">
            <div class="div1280">
                <div class="m2_nbg" onclick="playRandomMusic()">
                    <a class="m2_n1">
                        绝招：火星大力拳，雷霆电击光，电击保护盾，雷霆电击刀，电击飞毛腿
                    </a>
                </div>
                <!-- <div>
                    <img class="slideshow" id="slideshowImg" src="" alt="Slideshow Image">
                </div> -->

                <ul class="i2_list">

                    <li class="i2l0">
                        <div class="i2_date"
                            onclick="window.location.href='https://baike.baidu.com/item/%E7%94%B5%E5%87%BB%E5%B0%8F%E5%AD%90/922365'">
                            <h3>电击小子</h3>
                            百科
                        </div>
                        <div class="i2_contet" onclick="playMusic(0)">
                            <h2>电击小子</h2>
                            <p>《电击小子》是广州奥飞文化传播有限公司出品的系列动画，总共三部，分为《电击小子1》《电击小子2》和《电击小子3》[1]，三部加起来总共有78集，改编自山猫的同名漫画《电击小子》。2009年初，动画在中央电视台少儿频道首播；紧接着在2009年12月份到2010年的2月份，在中国四大卡通频道及近20家省级少儿频道安排全面播出。
                            </p>
                        </div>
                    </li>

                    <li class="i2l1">
                        <div class="i2_date"
                            onclick="window.location.href='https://tv.cctv.cn/2013/03/13/VIDA1363161478555346.shtml'">
                            <h3>电击小子</h3>
                            S1
                        </div>
                        <div class="i2_contet" onclick="playMusic(1)">
                            <h2>首发，电击小子来了！！！</h2>
                            <p class="ellipsis">小光是胡桃镇上一个乖巧的小学五年级学生，他一家为了得到一部最新出品的游戏机而参加了宾奇先生主持的有奖电视游戏节目。宾奇先生带他们一家到了一幢神秘鬼屋，但大屋内没有鬼魂，只有大坏蛋果仁大盗！
                            </p>
                        </div>
                    </li>
                    <li class="i2l2">
                        <div class="i2_date"
                            onclick="window.location.href='https://tv.cctv.cn/2013/03/13/VIDA1363161478555346.shtml'">
                            <h3>电击小子</h3>
                            S2
                        </div>
                        <div class="i2_contet" onclick="playMusic(2)">
                            <h2>承接第1季的剧情，电击小子2来了！！！</h2>
                            <p class="ellipsis">小光与卡比成功将路比送回未来，但是却遇到了新的敌人——沙宝拉查，讲述了电击小子与卡比一次次阻止了沙宝拉查的阴谋，沙宝拉查屡次捉拿卡比也不成功。最后竟然用自己的基地制造出一个巨大的武器，希望能对付电击小子和卡比，于是电击小子与沙宝拉查展开了一场世纪大战。
                            </p>
                        </div>
                    </li>

                    <li class="i2l3">
                        <div class="i2_date"
                            onclick="window.location.href='https://tv.cctv.cn/2016/04/27/VIDAneheeEIo2Jvh86oYSQQv160427.shtml'">
                            <h3>电击小子</h3>
                            S3
                        </div>
                        <div class="i2_contet" onclick="playMusic(3)">
                            <h2>承接第二季剧情，《电击小子3》最新发布！！！</h2>
                            <p class="ellipsis"> 电击小子继续守护着家园的安宁，然而他们不但要提升自己的能力，更要穿越时空，奋力阻止时空海盗“四圣团”作恶。在此过程中，电击小子和伙伴们凭着自身努力和各种神奇武器，实力不断提升。同时小光等人也渐渐领悟到成长的真谛，面对挫折永不放弃。电击小子等人经历了“龙城镇”与“桃花岛”的重重磨难后，一次又一次帮助人们化解危险，成功保卫了未来时空不受“四圣团”破坏。
                            </p>
                        </div>
                    </li>

                </ul>
                <audio id="audioPlayer" controls style="display: none;">
                    <source src="" type="audio/mpeg">
                    Your browser does not support the audio element.
                    您的浏览器不支持音频控件。
                </audio>

            </div>
        </div>
    </div>

    <div id="controlPanel" onmousedown="startDrag(event)" onmouseup="stopDrag()">
        <img id="playPauseIcon" src="./image/donghua.gif" alt="">
        <!-- <input type="range" id="volumeSlider" min="0" max="0.7" step="0.01" value="0.4" oninput="adjustVolume(event)"> -->
        <p class="close" onclick="hideControlPanel()">×</p>
        <div id="songTitle">当前播放：无歌曲</div>

        <div class="player-controls">
            <button id="playPauseButton" onclick="togglePlayPause()">播放/暂停</button>

            <span class="time current-time">0:00</span>
            <div id="progressBar">
                <div class="progress-indicator"></div>
            </div>
            <span class="time total-time">0:00</span>

            <img src="./image/yl.webp" alt="Volume Icon" class="volume-icon" onclick="toggleSlider(event)">

            <div class="volume-slider">
                <input type="range" min="0" max="0.7" step="0.01" value="0.4" id="volumeSlider"
                    oninput="adjustVolume(event)">
            </div>
        </div>
    </div>

    <div class="index4">
        <div class="i4_title">
            <div class="i4_title_h2">
                <p>电击小子相关图片展示</p>
                electroboy Related Image Display
            </div>
        </div>
        <div class="div1280">
            <div class="i4_lunbo">
                <div id="sildes" style="overflow: hidden; position: relative;">
                    <div class="container">
                        <div class="control" style="overflow: hidden; position: relative; display: block;">
                            <ul class="change" style="position: relative; width: 3390px; left: -1130px;">

                                <!-- 1 -->
                                <li style="position: absolute; top: 0px; left: 1130px; z-index: 0; display: none;">
                                    <div class="imgWrap">
                                        <a href="" title="电击小子" target="_blank">
                                            <img src="./image/xxg.webp" alt="电击小子">
                                        </a>
                                    </div>
                                </li>
                                <!-- 2 -->
                                <li style="position: absolute; top: 0px; left: 1130px; z-index: 0; display: none;">
                                    <div class="imgWrap">
                                        <a href="" title="电击小子" target="_blank">
                                            <img src="./image/djxz.webp" alt="电击小子">
                                        </a>
                                    </div>
                                </li>
                                <!-- 3 -->
                                <li style="position: absolute; top: 0px; left: 1130px; z-index: 0; display: none;">
                                    <div class="imgWrap">
                                        <a href="" title="电击小子" target="_blank">
                                            <img src="./image/lubi.webp" alt="电击小子">
                                        </a>
                                    </div>
                                </li>
                                <!-- 4 -->
                                <li style="position: absolute; top: 0px; left: 1130px; z-index: 0; display: none;">
                                    <div class="imgWrap">
                                        <a href="" title="电击小子" target="_blank">
                                            <img src="./image/djxz01.webp" alt="电击小子">
                                        </a>
                                    </div>
                                </li>
                                <!-- 5 -->
                                <li style="position: absolute; top: 0px; left: 1130px; z-index: 0; display: none;">
                                    <div class="imgWrap">
                                        <a href="" title="电击小子" target="_blank">
                                            <img src="./image/djxz02.webp" alt="电击小子">
                                        </a>
                                    </div>
                                </li>

                            </ul>

                            <a hidefocus="true" class="prev"><span>Prev</span></a>
                            <a hidefocus="true" class="next"><span>Next</span></a>
                        </div>

                        <!-- 小图 -->
                        <div class="thumbWrap">
                            <div class="thumbCont">
                                <ul id="produc_ul"
                                    style="height: 544px; width: 100%; position: absolute; left: 0px; top: 2px;">
                                    <li class="">
                                        <img src="./image/xxg.webp" alt="电击小子图片加载失败咯">
                                    </li>
                                    <li class="">
                                        <img src="./image/djxz.webp" alt="电击小子图片加载失败咯">
                                    </li>
                                    <li class="">
                                        <img src="./image/lubi.webp" alt="电击小子图片加载失败咯">
                                    </li>
                                    <li class="">
                                        <img src="./image/djxz01.webp" alt="电击小子图片加载失败咯">
                                    </li>
                                    <li class="">
                                        <img src="./image/djxz02.webp" alt="电击小子图片加载失败咯">
                                    </li>
                                </ul>
                            </div>
                     
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <img src="./image/djxz.gif" alt="跑步的电击小子" id="movingImage" onclick="toggleMusic()">
    <div class="bottom">
        <a
            href="">关于电击小子</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a
            href="http://qq.electroboy.cnl">联系我们</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a target="_blank" onclick="showGroupCard()">加入我们的qq群</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 <a target="_blank" href="">电击小子网站</a>

        <img src="./image/djxzlogo.webp">
        <p id="year"></p>
    </div>

    <style>
        .group-card {
            z-index: 999;
            border: 1px solid #ccc;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 430px;
            height: 350px;
            background-color: #fff;
            padding: 10px;
            border: 10px solid #ffb84ede;
            cursor: move;
            /* display: none; */
            /* 默认隐藏 */
            border-radius: 10px;
        }

        .group-header {
            margin: 10px;
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .group-header img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin-right: 15px;
        }

        .group-header h2 {
            margin: 0;
            font-size: 28px;
        }

        .group-header p {
            margin: 5px 0;
            font-size: 15px;
            color: #666;
        }

        .group-info {
            display: flex;
            justify-content: space-between;
        }

        .group-info .left {
            width: 25%;
            /* text-align: right; */
            margin-right: 10px;
        }

        .group-info .right {
            width: 75%;
        }


        .group-info .left p {

            font-size: 25px;
            color: #4a4a4a76;
        }

        .group-info p {
            margin: 10px 0;
            font-size: 25px;
            color: #666;
        }

        .group-actions {
            margin-top: 10px;
            display: flex;
            justify-content: space-between;
        }

        .group-actions button {
            padding: 5px 10px;
            cursor: pointer;
            position: relative;
            top: 10px;
            padding: 10px 20px;
            font-size: 16px;
            color: #fff;
            background-color: #ff4040;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color .3s
        }

        .close-button {
            position: absolute;
            top: 0px;
            right: 20px;
            cursor: pointer;
            font-size: 50px;
            color: #aaa;
        }

        .close-button:hover {
            color: #000;
        }
    </style>

</head>

<body>
    <!-- <button onclick="showGroupCard()">显示群信息</button> -->

    <div class="group-card" id="groupCard">
        <span class="close-button" onclick="hideGroupCard()">&times;</span>
        <div class="group-header">
            <img src="./djxz海报.jpg" alt="QQ群头像">
            <div>
                <h2>电击小子交流群</h2>
                <p>QQ群号码: 364310663</p>
            </div>
        </div>
        <div class="group-info">
            <div class="left">
                <p>备注:</p>
                <p>介绍:</p>
                <p>群公告:</p>
            </div>
            <div class="right">
                <p>电击小子</p>
                <p>一起讨论电击小子相关内容</p>
                <!-- <p>我们的最终目标是让重振电击小子并将其传播至世界所有角落。</p> -->
                <p>请遵守群规，文明交流</p>
            </div>
        </div>
        <div class="group-actions">
            <button onclick="window.location.href='https://qq.electroboy.cn'">跳转到QQ</button>
            <button onclick="copyToClipboard('364310663')">复制群号码</button>
        </div>
    </div>
    <script>
        function copyToClipboard(text) {
            const el = document.createElement('textarea');
            el.value = text;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            alert('群号码已复制到剪贴板');
        }

        function showGroupCard() {
            document.getElementById('groupCard').style.display = 'block';
        }

        function hideGroupCard() {
            document.getElementById('groupCard').style.display = 'none';
        }
    </script>
    <script src="js/jquery-1.8.3.min.js" type="text/javascript"></script>

    <script src="js/uaredirect1.js" type="text/javascript"></script>
    <!-- 重定向 -->
    <script type="text/javascript">uaredirect("https://www.electroboy.cn/mobile");</script>

    <script src="js/global.js" type="text/javascript"></script>
    <script src="js/WebData.js" type="text/javascript"></script>

    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="js/jquery.themepunch.plugins.min.js"></script>
    <script type="text/javascript" src="js/jquery.themepunch.revolution.min.js"></script>
    <script type="text/javascript" src="js/carousel.js"></script>
    <script src="js/slides-1.1.1-min.js"></script>

    <script>
        function adjustZoom() {
            // 获取屏幕宽度
            var screenWidth = window.screen.width;

            // 获取窗口宽度
            var windowWidth = window.innerWidth;

            // 计算窗口宽度占屏幕宽度的百分比
            var percentage = (windowWidth / screenWidth) * 100;

            // 定义缩放比例
            var zoomLevel = 0;

            // 使用循环动态计算缩放比例
            for (var i = 0; i <= 50; i++) {
                if (percentage < (100 - i * 1)) {
                    zoomLevel = 1 - i * 0.01;
                }
            }

            // 更加精细的步进
            // for (var i = 0; i <= 500; i++) {
            //     if (percentage < (100 - i * 0.1)) {
            //         zoomLevel = 1 - i * 0.001;
            //     }
            // }

            // 设置缩放比例
            document.body.style.zoom = zoomLevel;

            // 打印结果到控制台
            console.log('窗口宽度占屏幕宽度的百分比为: ' + percentage + '%，设置缩放比例为: ' + zoomLevel);
        }


        function handleResize() {
            scale = parseFloat(getComputedStyle(document.body).zoom) || 1;
            console.log("页面的缩放比例（scale）:", scale);

            // 如果正在拖动，更新鼠标偏移量
            if (isDragging) {
                offsetX *= scale;
                offsetY *= scale;
                handleMouseMove(e);
            }
        }

        // 在窗口大小发生变化时调整缩放
        window.addEventListener('resize', adjustZoom);
        // 在窗口大小发生变化时，基于缩放后的坐标计算
        window.addEventListener('resize', handleResize);

        // 页面加载时进行一次初始的调整
        adjustZoom();

    </script>


    <script>

        function tishi() {

            // 触发音乐播放，移动图片
            toggleMusic();
            // 移动图片
            tupian();
        }
        // 获取图片元素
        var image = document.getElementById('movingImage');
        // 初始化位置、速度、屏幕宽度、移动方向和动画间隔
        var position = 0;
        var speed = 2;
        var viewportWidth = window.innerWidth;
        var movingRight = true;
        var movementInterval;
        var scale = parseFloat(getComputedStyle(document.body).zoom) || 1; // 获取zoom比例
        console.log("页面的缩放比例00（scale）:", scale); // 打印scale的值

        // 移动图片的函数
        function moveImage() {
            var viewportWidth = window.innerWidth; // 动态获取窗口宽度
            if (movementInterval) {
                if (movingRight) {
                    position += speed;
                    image.style.left = position + 'px';

                    if (position >= (viewportWidth * 0.85) /scale) {
                        console.log("屏幕实际宽度: " + viewportWidth); // 添加打印语句 
                        console.log("适配缩放屏幕宽度: " + viewportWidth /scale); // 添加打印语句 
                        console.log("计算右移到的像素: " + viewportWidth /scale * 0.85); // 添加打印语句 
                        movingRight = false;
                        image.style.transform = "scaleX(1)";
                    }
                } else {
                    position -= speed;
                    image.style.left = position + 'px';
                    if (position <= (viewportWidth * 0.02)/scale) {
                        console.log("计算左移到的像素: " + viewportWidth * 0.02/scale); // 添加打印语句 
                        movingRight = true;
                        image.style.transform = "scaleX(-1)";
                    }
                }
                movementInterval = requestAnimationFrame(moveImage);
            }
        }

        // 启动移动
        function startMovement() {
            if (!movementInterval) {
                movementInterval = requestAnimationFrame(moveImage);

            }
        }

        // 停止移动
        function stopMovement() {
            if (movementInterval) {
                console.log("Stopping movement");
                console.log("Current movementInterval value: " + movementInterval);
                cancelAnimationFrame(movementInterval);
                movementInterval = null; // 重置 movementInterval
                console.log("After cancelAnimationFrame: " + movementInterval);
            }
        }

        // 获取音乐元素和音乐播放状态
        var music = document.getElementById('backgroundMusic');
        var isPlaying = false;


        function toggleMusic() {
            // 隐藏提示图片
            var images = document.getElementsByClassName('tishi');
            for (var i = 0; i < images.length; i++) {
                images[i].style.display = 'none';
            }
            // 切换音乐播放状态   
            if (isPlaying) {
                music.pause();
            } else {
                music.play();
            }
            isPlaying = !isPlaying;

            // 同时切换图片移动状态
            if (movementInterval) {
                stopMovement();
            } else {
                startMovement();
            }
        }
    </script>

    <script>
        let container = document.querySelector('.imgbox-container');
        let images = document.querySelectorAll('.imgbox-container .box');
        let imageWidth = images[0].offsetWidth;
        let totalWidth = images.length * imageWidth;
        let scrollDirection = 1;
        let currentScroll = 0;

        function scrollContainer() {
            currentScroll += scrollDirection;
            if (currentScroll >= totalWidth || currentScroll < 0) {
                scrollDirection = -scrollDirection;
            }
            container.scrollLeft = Math.abs(currentScroll % totalWidth);
        }

        setInterval(scrollContainer, 10);

        function tupian() {
            // 隐藏提示图片
            var images = document.getElementsByClassName('tishi');
            for (var i = 0; i < images.length; i++) {
                images[i].style.display = 'none';
            }
        }

    </script>

    <!-- <script>
        // 图片路径数组
        let imagess = [
            "https://bkimg.cdn.bcebos.com/pic/71cf3bc79f3df8dc5ac58d14cd11728b461028be?x-bce-process=image/format,f_auto/resize,m_lfit,limit_1,h_336",
            "https://img2.baidu.com/it/u=2574659601,275520977&fm=253&fmt=auto&app=138&f=JPEG?w=400&h=600",
            "https://img2.baidu.com/it/u=1566050002,1701599798&fm=253&fmt=auto&app=120&f=JPEG?w=500&h=662",
            "https://img0.baidu.com/it/u=844526588,320119096&fm=253&fmt=auto&app=138&f=JPEG?w=448&h=672"

        ];

        let currentImageIndex = 0; // 当前显示的图片索引
        let maxRetryCount = 3; // 最大尝试次数
        let failedimagess = []; // 存储加载失败的图片索引
        let imageInterval;

        function changeImage() {
            // 跳过加载失败的图片
            while (failedimagess.includes(currentImageIndex)) {
                currentImageIndex = (currentImageIndex + 1) % imagess.length;
            }

            let img = new Image();
            let timeoutId;

            img.onload = function () {
                clearTimeout(timeoutId); // 清除加载超时的定时器
                document.getElementById('slideshowImg').src = imagess[currentImageIndex]; // 切换图片
                failedimagess = failedimagess.filter(index => index !== currentImageIndex); // 移除加载成功的图片索引
                currentImageIndex = (currentImageIndex + 1) % imagess.length; // 更新索引
            };
            img.onerror = function () {
                clearTimeout(timeoutId); // 清除加载超时的定时器
                failedimagess.push(currentImageIndex); // 将加载失败的图片索引加入数组
                console.log("图片加载失败，标记并跳过：" + currentImageIndex);
                currentImageIndex = (currentImageIndex + 1) % imagess.length; // 更新索引到下一张图片
            };

            img.src = imagess[currentImageIndex]; // 加载图片

            // 设置加载超时的定时器
            timeoutId = setTimeout(function () {
                img.src = ""; // 中断加载
                console.log("图片加载超时，标记并跳过：" + currentImageIndex);
                failedimagess.push(currentImageIndex); // 将加载超时的图片索引加入数组
                currentImageIndex = (currentImageIndex + 1) % imagess.length; // 更新索引到下一张图片
            }, 2000);
        }

        function startSlideshow() {
            changeImage(); // 初始加载第一张图片
            imageInterval = setInterval(function () {
                changeImage(); // 每3秒切换一次图片
            }, 2000);
        }

        startSlideshow();
    </script> -->

    <script>
        var currentDate = new Date();
        var year = currentDate.getFullYear();
        var month = currentDate.getMonth() + 1; // 月份从 0 开始，所以要加 1
        var day = currentDate.getDate();
        document.getElementById("year").innerText = "非官方网站，仅展示电击小子相关内容！！！ " + "Copyright© " + year + "年" + month + "月" + day + "日";

        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://www.electroboy.cn";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

    <script type="text/javascript">
        $(function () {
            getIndexBanner();
            getNewsList1();
            getNewsIndexLeft();
            getIndexProduct();
            // getIndexVedio();
        }
        )
    </script>

    <script type="text/javascript">
        jQuery(document).ready(function () {

            $('.GetPPT li').click(function () {
                var alink = $(this).attr("date-a");
                if (alink != "" && alink != "null")
                    window.open(alink);
            });

            jQuery('.tp-banner').revolution({
                delay: 4000,
                startwidth: 1300,
                startheight: 664,
                hideThumbs: 10,
                fullWidth: "on",
                forceFullWidth: "on",
                onHoverStop: "on",
                navigationType: "none"
            });

            Carousel.init($(".pictureSlider"));
            $('#sildes').olvSlides(
                {
                    thumb: true,
                    thumbPage: true,
                    thumbDirection: "Y",
                    effect: 'fade'
                }
            );
        })
    </script>

    <!-- tts语音-->
    <script>
        // 关闭控制面板
        function hideControlPanel() {
            document.getElementById('controlPanel').style.display = 'none';
            // console.log('hideControlPanel called');
        }
        var isDragging = false;
        var offsetX, offsetY;

        function startDrag(e) {
            if (e.target.id !== 'volumeSlider') { // 检查是否在音量滑块上
                isDragging = true;
                offsetX = e.clientX - document.getElementById('controlPanel').offsetLeft;
                offsetY = e.clientY - document.getElementById('controlPanel').offsetTop;
            }
        }
        // 音量
        function adjustVolume(e) {
            var volumeSlider = document.getElementById('volumeSlider');
            audio.volume = e.target.value;
        }

        var audio = document.getElementById('audioPlayer');
        var isPlaying = false;
        var currentSongIndex = 0;
        var playPauseIcon = document.getElementById('playPauseIcon');

        function updatePlayPauseButton() {
            var playPauseButton = document.getElementById('playPauseButton');
            if (isPlaying) {
                playPauseButton.textContent = '暂停';
                playPauseIcon.src = './image/donghua.gif'; // 切换到播放图标
                document.getElementById('controlPanel').style.display = 'block';// 开启控制面板
            } else {
                playPauseButton.textContent = '播放';
                playPauseIcon.src = './image/donghua.webp'; // 切换到暂停图标
            }
        }

        audio.addEventListener('ended', function () {
            isPlaying = false;
            updatePlayPauseButton();

        });

        // tts合成路径 音频路径
        var audioFiles = [
            {
                src: './audio/tts0.mp3',
                name: 'TTS0'
            },
            {
                src: './audio/tts1.mp3',
                name: 'TTS1'
            },
            {
                src: './audio/tts2.mp3',
                name: 'TTS2'
            },
            {
                src: './audio/tts3.mp3',
                name: 'TTS3'
            },
            {
                src: './audio/火星大力拳.mp3',
                name: '火星大力拳'
            },
            {
                src: './audio/雷霆电击光.mp3',
                name: '雷霆电击光'
            },
            {
                src: './audio/变身V1.0.mp3',
                name: '变身V1.0'
            },
            {
                src: './audio/变身V1.1.mp3',
                name: '变身V1.1'
            },
            {
                src: './audio/变身V3.0.mp3',
                name: '变身V3.0'
            },
            {
                src: './audio/变身V3.1.mp3',
                name: '变身V3.1'
            },
            {
                src: './audio/介绍V3.0.mp3',
                name: '介绍V3.0'
            },
            {
                src: './audio/介绍V3.1.mp3',
                name: '介绍V3.1'
            },
        ];

        function playMusic(index) {
            audio.src = audioFiles[index].src;
            audio.play();
            isPlaying = true;
            currentSongIndex = index;
            updatePlayPauseButton();
            document.getElementById('songTitle').textContent = `当前语音：${audioFiles[index].name}`;
        }

            // 随机台词1
        var lastPlayedIndex = -1;

            function playRandomMusic() {
            var randomIndex;
            do {
                randomIndex = Math.floor(Math.random() * audioFiles.length);
            } while (randomIndex === lastPlayedIndex || (audioFiles[randomIndex].name !== '火星大力拳' && audioFiles[randomIndex].name !== '雷霆电击光' && audioFiles[randomIndex].name !== '变身V1.0' && audioFiles[randomIndex].name !== '变身V1.1' && audioFiles[randomIndex].name !== '变身V3.0' && audioFiles[randomIndex].name !== '变身V3.1' && audioFiles[randomIndex].name !== '介绍V3.0' && audioFiles[randomIndex].name !== '介绍V3.1'));

            lastPlayedIndex = randomIndex;

            audio.src = audioFiles[randomIndex].src;
            audio.play();
            isPlaying = true;
            updatePlayPauseButton();
            document.getElementById('songTitle').textContent = `当前台词：${audioFiles[randomIndex].name}`;
            }

        function togglePlayPause() {
            if (isPlaying) {
                audio.pause();
                isPlaying = false;
            } else {
                audio.play();
                isPlaying = true;
            }
            updatePlayPauseButton();
            if (isPlaying) {
                document.getElementById('songTitle').textContent = `当前语音：${audioFiles[currentSongIndex].name}`;
            } else {
                document.getElementById('songTitle').textContent = '当前语音：暂停';
            }
        }

        // 更新进度条和时间显示
        audio.addEventListener('timeupdate', function () {
            const percent = (audio.currentTime / audio.duration) * 100;
            const progressBarIndicator = document.querySelector('.progress-indicator');
            progressBarIndicator.style.width = percent + '%';

            const currentTimeDisplay = document.querySelector('.current-time');
            currentTimeDisplay.textContent = formatTime(audio.currentTime);

            const totalTimeDisplay = document.querySelector('.total-time');
            totalTimeDisplay.textContent = formatTime(audio.duration);
        });

        function formatTime(seconds) {
            if (isNaN(seconds)) {
                return '00:00';
            }

            const totalSeconds = Math.floor(seconds); // 直接取整，忽略小数部分
            const minutes = Math.floor(totalSeconds / 60);
            const remainingSeconds = totalSeconds % 60;
            return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
        }
    </script>

    <!-- 移动窗口，音乐控制面板 -->
    <script>
        // document.onmousemove = function (e) {
        //   if (isDragging) {
        //     var controlPanel = document.getElementById('controlPanel');
        //     controlPanel.style.left = e.clientX - offsetX + 'px';
        //     controlPanel.style.top = e.clientY - offsetY + 'px';
        //   }
        // };
        var isDragging = false;
        var offsetX, offsetY;
        var controlPanel = document.getElementById('controlPanel');
        var scale = parseFloat(getComputedStyle(document.body).zoom) || 1; // 获取zoom比例
        console.log("页面的缩放比例（scale）:", scale); // 打印scale的值

        // offsetX 和 offsetY 将基于缩放后的坐标计算，从而在拖动过程中得到正确的移动距离。
        function handleResize() {
            scale = parseFloat(getComputedStyle(document.body).zoom) || 1;
            console.log("页面的缩放比例（scale）:", scale);

            // 如果正在拖动，更新鼠标偏移量
            if (isDragging) {
                offsetX *= scale;
                offsetY *= scale;
                handleMouseMove(e);
            }
        }

        function startDrag(e) {
            isDragging = true;
            offsetX = e.clientX - controlPanel.offsetLeft * scale;
            offsetY = e.clientY - controlPanel.offsetTop * scale;
            document.body.style.cursor = 'move';
        }

        function stopDrag() {
            isDragging = false;
            document.body.style.cursor = 'default';
        }

        document.onmousemove = function (e) {
            if (isDragging) {
                var scale = parseFloat(getComputedStyle(document.body).zoom) || 1;
                console.log("鼠标移动时，页面的缩放比例（scale）:", scale);
                var viewportWidth = window.innerWidth;
                var viewportHeight = window.innerHeight;
                var controlPanelWidth = controlPanel.offsetWidth * scale;
                var controlPanelHeight = controlPanel.offsetHeight * scale;
                var edgePadding = 20 * scale; // 边缘安全距离

                console.log("屏幕宽度（考虑缩放）:", viewportWidth);
                console.log("控制面板宽度（考虑缩放）:", controlPanelWidth);

                var newLeft = Math.min(Math.max(e.clientX - offsetX, 0), viewportWidth - controlPanelWidth);
                var newTop = Math.min(Math.max(e.clientY - offsetY, 0), viewportHeight - controlPanelHeight);

                // 应用新的位置
                controlPanel.style.left = newLeft / scale + 'px';
                controlPanel.style.top = newTop / scale + 'px';
            }
        };

    </script>

    <!-- 音量图标显示隐藏 -->
    <script>
        function toggleSlider(event) {
            var slider = document.querySelector('.volume-slider');
            slider.classList.toggle('active');
            event.stopPropagation(); // 阻止事件冒泡，防止立即隐藏
        }

        document.addEventListener('click', function (e) {
            var slider = document.querySelector('.volume-slider');
            if (!slider.contains(e.target)) {
                slider.classList.remove('active');
            }
        });
    </script>

</body>

</html>