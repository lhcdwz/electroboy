const fileName="./music/电击小子 完整原版.mp3",audio=(document.getElementById("fileName").innerText=fileName,new Audio(fileName)),progressBar=document.querySelector(".progress-bar"),progress=document.querySelector(".progress"),currentTime=document.querySelector(".current-time"),totalTime=document.querySelector(".total-time"),playButton=document.querySelector(".play-button"),image=(progress.addEventListener("click",function(t){t=t.offsetX/progress.clientWidth,console.log(t),t*=audio.duration;audio.currentTime=t}),audio.addEventListener("timeupdate",function(){var t=audio.currentTime/audio.duration*100;progressBar.style.width=t+"%",currentTime.textContent=formatTime(audio.currentTime),totalTime.textContent=formatTime(audio.duration)}),audio.addEventListener("ended",function(){playButton.textContent="播放",playButton.classList.add("paused"),image.style.animationPlayState="paused",console.log("音乐已经播放完毕！")}),audio.addEventListener("timeupdate",function(){var t=audio.currentTime/audio.duration*100,t=(progressBar.style.width=t+"%",currentTime.textContent=formatTime(audio.currentTime),totalTime.textContent=formatTime(audio.duration),lyrics.find(t=>audio.currentTime>=t.startTime&&audio.currentTime<t.endTime));document.getElementById("lyrics").textContent=t?t.text:""}),document.querySelector(".image"));function toggleAudio(){currentTime===totalTime&&(playButton.textContent="播放",playButton.classList.add("paused"),image.style.animationPlayState="paused"),audio.paused?(audio.play(),playButton.textContent="暂停",playButton.classList.remove("paused"),image.style.animationPlayState="running"):(audio.pause(),playButton.textContent="播放",playButton.classList.add("paused"),image.style.animationPlayState="paused")}function speedUpAnimation(){var t,e=window.getComputedStyle(image).animation.match(/(\d+)(s|ms)/);e&&(t=parseFloat(e[1]),e=e[2],t=.8*t,console.log(t),image.style.animationDuration=""+t+e)}function formatTime(t){var e=Math.floor(t/60),t=Math.floor(t%60);return e+":"+(t=t<10?"0"+t:t)}document.addEventListener("DOMContentLoaded",function(t){document.querySelector(".image").style.animationPlayState="paused"});