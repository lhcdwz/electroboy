<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>电击小子网站～</title>
    <!-- 再次声明，非官方网站，这是介绍电击小子相关内容的一个网页 -->
    <meta name="keywords" content="电击小子,电击,electroboy,电击小子网站,电击小子高清图片,电击百科,火星大力拳,雷霆电击光">
    <meta name="description" content="欢迎访问电击小子网站,本网站是一个收集电击小子相关内容的网页,更多详细信息请访问我查看!">
    <link rel="shortcut icon" href="./image/djxzlogo.ico" type="image/x-icon" />
    <link href="css/main.css" rel="stylesheet">
	<!-- <link href="http://fonts.googleapis.com/css?family=Electrolize" rel="stylesheet" type="text/css"> -->
    <style>
        .image-container {
            display: flex;
            justify-content: space-around;
        }

        .image-map {
            position: relative;
            margin: 0 10px;
            /* 为了在左右两边添加空隙 */
        }

        .clickable-area {
            position: absolute;
            width: 100%;
            cursor: pointer;
        }
    </style>

</head>

<body>
    <audio id="backgroundMusic" src="./music/电击小子 完整原版.mp3" loop></audio>
    <div class="top">
        <div class="div1280">
            <div class="link_chen">
                <a href="">！！！非官方网站，仅展示电击小子相关内容</a>
            </div>
            <img src="./image/djxzlogo.webp" class="logo" alt="电击小子_ele电击文化科技集团">
            <ul class="top_ul1 top_ul">
                <li class="index-t1">
                    <a href="./">首页</a>
                </li>

                <li><a href="./renwu.html">人物介绍</a>
                </li>

                <li><a href="javascript:void();">影视</a>
                    <ul class="t_ul">
                        <li>
                            <a href="tv.html">TV系列</a>
                        </li>
                    </ul>
                </li>

                <li><a href="javascript:void();">音乐</a>
                    <ul class="t_ul">

                        <li><a href="music.html">《电击小子》音乐</a>
                            <div class="t_line"></div>
                        </li>
                        <li><a href="music.html">《电击小子》音乐</a>
                            <div class="t_line"></div>
                        </li>
                        <li><a href="poster.html">《电击小子》歌词海报</a>
                            
                        </li>
                    </ul>
                </li>

            </ul>

            <ul class="top_ul2 top_ul">
                <li><a href="javascript:void();">相关下载</a>
                </li>
                <li><a target="_blank" href="">友链</a>
                    <ul class="t_ul">
                        <li>
                            <a
                                href="https://baike.baidu.com/item/%E7%94%B5%E5%87%BB%E5%B0%8F%E5%AD%90/922365?fromModule=lemma_sense-layer#viewPageContent">百度百科</a>
                            <div class="t_line"></div>
                        </li>
                        <li><a target="_blank" href="https://eboy.huijiwiki.com/">电击百科</a></li>
                    </ul>
                </li>
                <li><a href="http://qq.electroboy.cn">QQ群</a>

                </li>
                <li><a href="" target="_blank">项目地址</a>
                    <ul class="t_ul">
                        <li>
                            <a href="https://github.com/lhcdwz/electroboy">GitHub</a>
                            <div class="t_line"></div>
                        </li>
                        <li><a href="">Gitee（暂无）</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>

    <div class="tp-banner-container" style="cursor: pointer;">
        <div class="tp-banner">
            <ul id="GetPPT" class="GetPPT">
            </ul>
        </div>
    </div>
    <div class="index1">
        <div class="i1_title2" >
            <div class="i1_title2_h2" style="position: relative;">
                <p>电击小子系列</p>
                electro boy series
            </div>
        </div>

    </div>  
     
        <div class="image-container">
            <div class="image-map">
                <img id="myImage1" src="1.jpg" alt="Your Image" onload="createClickableAreas('myImage1', 20, 1)">
            </div>
            <div class="image-map">
                <img id="myImage2" src="2.jpg" alt="Your Image" onload="createClickableAreas('myImage2', 20, 2)">
            </div>
            <div class="image-map">
                <img id="myImage3" src="3.jpg" alt="Your Image" onload="createClickableAreas('myImage3', 20, 3)">
            </div>
        </div>
  
    
    <img src="./image/djxz.gif" alt="跑步的电击小子" id="movingImage" onclick="toggleMusic()">
    <div class="bottom">
        <a
            href="">关于电击小子</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a
            href="http://qq.electroboy.cnl">联系我们</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a target="_blank"
            href="http://qq.electroboy.cn">加入我们</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a target="_blank"
            href="">ele电击</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a target="_blank" href="">电击小子网站</a>

        <img src="./image/djxzlogo.webp">
        <p id="year"></p>
    </div>

    <script>
        // 电击小子视频源路径，视频来自cctv
        // 使用python程序自动匹配爬取
        var urls = [
            // 电击小子1
            [
                "https://tv.cctv.com/2012/12/29/VIDE1385969236772670.shtml",
                "https://tv.cctv.com/2012/12/29/VIDE1385969239443751.shtml",
                "https://tv.cctv.com/2012/12/29/VIDE1385969235099504.shtml",
                "https://tv.cctv.com/2012/12/29/VIDE1385969236537643.shtml",
                "https://tv.cctv.com/2012/12/29/VIDE1385969239557764.shtml",
                "https://tv.cctv.com/2012/12/30/VIDE1385969235734573.shtml",
                "https://tv.cctv.com/2012/12/30/VIDE1385969235604560.shtml",
                "https://tv.cctv.com/2012/12/30/VIDE1385969240715894.shtml",
                "https://tv.cctv.com/2012/12/30/VIDE1385969236006601.shtml",
                "https://tv.cctv.com/2013/01/04/VIDE1385969235367532.shtml",
                "https://tv.cctv.com/2013/01/04/VIDE1385969239896803.shtml",
                "https://tv.cctv.com/2013/01/04/VIDE1385969236412630.shtml",
                "https://tv.cctv.com/2013/01/04/VIDE1385969236137615.shtml",
                "https://tv.cctv.com/2013/01/06/VIDE1385969240252842.shtml",
                "https://tv.cctv.com/2013/01/06/VIDE1385969236651656.shtml",
                "https://tv.cctv.com/2013/01/06/VIDE1385969235485545.shtml",
                "https://tv.cctv.com/2013/01/06/VIDE1385969240022816.shtml",
                "https://tv.cctv.com/2013/01/06/VIDE1385969235245519.shtml",
                "https://tv.cctv.com/2013/01/07/VIDE1385969240369855.shtml",
                "https://tv.cctv.com/2013/01/07/VIDE1385969240133829.shtml",
                "https://tv.cctv.com/2013/01/07/VIDE1385969235849586.shtml",
                "https://tv.cctv.com/2013/01/07/VIDE1385969240598881.shtml",
                "https://tv.cctv.com/2013/01/12/VIDE1364366898090830.shtml",
                "https://tv.cctv.com/2013/01/12/VIDE1364366896597786.shtml",
                "https://tv.cctv.com/2013/01/12/VIDE1364366897729819.shtml",
                "https://tv.cctv.com/2013/01/12/VIDE1364366897346808.shtml",
            ],
            // 电击小子2
            [
                "https://tv.cctv.com/2010/09/13/VIDE1363162157792162.shtml",
                "https://tv.cctv.com/2010/09/14/VIDE1363162145876857.shtml",
                "https://tv.cctv.com/2010/09/15/VIDE1363162151489938.shtml",
                "https://tv.cctv.com/2010/09/16/VIDE1363162191085778.shtml",
                "https://tv.cctv.com/2010/09/17/VIDE1363162140364739.shtml",
                "https://tv.cctv.com/2010/09/19/VIDE1363162155031103.shtml",
                "https://tv.cctv.com/2010/09/19/VIDE1363162142200785.shtml",
                "https://tv.cctv.com/2010/09/20/VIDE1363162161883234.shtml",
                "https://tv.cctv.com/2010/09/21/VIDE1365308684296874.shtml",
                "https://tv.cctv.com/2010/09/25/VIDE1363162161253216.shtml",
                "https://tv.cctv.com/2010/09/25/VIDE1363162162527247.shtml",
                "https://tv.cctv.com/2010/09/24/VIDE1363162150891929.shtml",
                "https://tv.cctv.com/2010/09/25/VIDE1363162175191449.shtml",
                "https://tv.cctv.com/2010/09/26/VIDE1363162147095875.shtml",
                "https://tv.cctv.com/2010/09/27/VIDE1363162158402171.shtml",
                "https://tv.cctv.com/2010/09/28/VIDE1363162139752724.shtml",
                "https://tv.cctv.com/2010/09/29/VIDE1363162140965755.shtml",
                "https://tv.cctv.com/2010/09/30/VIDE1363162180203607.shtml",
                "https://tv.cctv.com/2010/10/01/VIDE1363162146477866.shtml",
                "https://tv.cctv.com/2010/10/02/VIDE1363162141601771.shtml",
                "https://tv.cctv.com/2010/10/03/VIDE1363162176419484.shtml",
                "https://tv.cctv.com/2010/10/04/VIDE1363162182009634.shtml",
                "https://tv.cctv.com/2010/10/05/VIDE1363162178804589.shtml",
                "https://tv.cctv.com/2010/10/06/VIDE1363162191672787.shtml",
                "https://tv.cctv.com/2010/10/07/VIDE1363162172419404.shtml",
                "https://tv.cctv.com/2010/10/08/VIDE1363162142819800.shtml"

            ],
            // 电击小子3
            [
                "https://tv.cctv.com/2015/08/03/VIDE1438613651034754.shtml",
                "https://tv.cctv.com/2015/08/03/VIDE1438614376806820.shtml",
                "https://tv.cctv.com/2015/08/03/VIDE1438614738164261.shtml",
                "https://tv.cctv.com/2015/08/03/VIDE1438614376958835.shtml",
                "https://tv.cctv.com/2015/08/04/VIDE1438703296506869.shtml",
                "https://tv.cctv.com/2015/08/04/VIDE1438703113470557.shtml",
                "https://tv.cctv.com/2015/08/04/VIDE1438698076267778.shtml",
                "https://tv.cctv.com/2015/08/04/VIDE1438698076513801.shtml",
                "https://tv.cctv.com/2015/08/05/VIDE1438783960015160.shtml",
                "https://tv.cctv.com/2015/08/05/VIDE1438783960293191.shtml",
                "https://tv.cctv.com/2015/08/05/VIDE1438784121263320.shtml",
                "https://tv.cctv.com/2015/08/05/VIDE1438783960161176.shtml",
                "https://tv.cctv.com/2015/08/06/VIDE1438871226761362.shtml",
                "https://tv.cctv.com/2015/08/06/VIDE1438871226934378.shtml",
                "https://tv.cctv.com/2015/08/06/VIDE1438871227094394.shtml",
                "https://tv.cctv.com/2015/08/06/VIDE1438871226596346.shtml",
                "https://tv.cctv.com/2015/08/07/VIDE1438960510306340.shtml",
                "https://tv.cctv.com/2015/08/07/VIDE1438960510171327.shtml",
                "https://tv.cctv.com/2015/08/07/VIDE1438960689434498.shtml",
                "https://tv.cctv.com/2015/08/07/VIDE1438960689575511.shtml",
                "https://tv.cctv.com/2015/08/08/VIDE1439044571217417.shtml",
                "https://tv.cctv.com/2015/08/08/VIDE1439044571365433.shtml",
                "https://tv.cctv.com/2015/08/09/VIDE1439127372285669.shtml",
                "https://tv.cctv.com/2015/08/09/VIDE1439127551272981.shtml",
                "https://tv.cctv.com/2015/08/09/VIDE1439127551440996.shtml",
                "https://tv.cctv.com/2015/08/09/VIDE1439131509014193.shtml",
            ]
        ];

        function createClickableAreas(imgId, topOffset, groupIndex) {
            var img = document.getElementById(imgId);
            var imgHeight = img.naturalHeight - topOffset; // 减去顶部的白边高度
            var areaHeight = imgHeight / 26;

            console.log("图片的实际高度为：" + imgHeight + "像素");
            console.log("每个区域的高度为：" + areaHeight + "像素");

            // 电击小子有26集，所以循环26次
            for (var i = 0; i < 26; i++) {
                var area = document.createElement("div");
                area.className = "clickable-area";
                area.style.top = (topOffset + i * areaHeight) + "px"; // 从顶部白边下方开始
                area.style.height = areaHeight + "px";
                area.setAttribute("onclick", "openUrl(" + groupIndex + "," + (i + 1) + ")");
                area.setAttribute("data-index", i); // 添加索引数据属性
                img.parentNode.appendChild(area);
            }
        }

        function openUrl(groupIndex, index) {
            // 根据组索引和位置索引打开对应的URL
            var url = urls[groupIndex - 1][index - 1]; // 索引从0开始，需要减1
            console.log("你点击了电击小子第" + groupIndex + "季的第" + index + "集" + "，已为您跳转到cctv，URL为：" + url);
            window.open(url);
        }
    </script>
	<script>
        fetch('https://api.wwang.pw/comment/music?offset=0&limit=30&id=1813134076')
            .then(response => response.json())
            .then(data => {
                const comments = data.comments;
                const commentsContainer = document.getElementById('comments');

                comments.forEach(comment => {
                    const commentDiv = document.createElement('div');
                    commentDiv.classList.add('comment-container');
                    commentDiv.innerHTML = `
                        <img src="${comment.user.avatarUrl}" alt="User Avatar" class="comment-avatar">
                            <div class="comment-details">
                                <p>${comment.user.nickname}</p>
                                <p> ${comment.content}</p>
                                <div class="like-time">
                                    <div style="display: flex; justify-content: space-between; width: 100%;">
                                        <div>
                                            <span>${new Date(comment.time).toLocaleString()}</span>
                                        </div> 
                                        <div>
                                            <img src="./2.png" alt="Like Icon" class="like-icon">
                                            <span> ${comment.likedCount}</span>
                                        </div>
                                     
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    commentsContainer.appendChild(commentDiv);
                });
            });
    </script>
    <script src="js/jquery-1.8.3.min.js" type="text/javascript"></script>

    <script src="js/uaredirect1.js" type="text/javascript"></script>
    <!-- 重定向 -->
    <script type="text/javascript">uaredirect("https://www.electroboy.cn/mobile");</script>

    <script src="js/global.js" type="text/javascript"></script>
    <script src="js/WebData.js" type="text/javascript"></script>

    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="js/jquery.themepunch.plugins.min.js"></script>
    <script type="text/javascript" src="js/jquery.themepunch.revolution.min.js"></script>
    <script type="text/javascript" src="js/carousel.js"></script>
    <script src="js/slides-1.1.1-min.js"></script>

    <script>
        function adjustZoom() {
            // 获取屏幕宽度
            var screenWidth = window.screen.width;

            // 获取窗口宽度
            var windowWidth = window.innerWidth;

            // 计算窗口宽度占屏幕宽度的百分比
            var percentage = (windowWidth / screenWidth) * 100;

            // 定义缩放比例
            var zoomLevel = 0;

            // 使用循环动态计算缩放比例
            for (var i = 0; i <= 50; i++) {
                if (percentage < (100 - i * 1)) {
                    zoomLevel = 1 - i * 0.01;
                }
            }

            // 设置缩放比例
            document.body.style.zoom = zoomLevel;

            // 打印结果到控制台
            console.log('窗口宽度占屏幕宽度的百分比为: ' + percentage + '%，设置缩放比例为: ' + zoomLevel);
        }


        function handleResize() {
            scale = parseFloat(getComputedStyle(document.body).zoom) || 1;
            console.log("页面的缩放比例（scale）:", scale);

            // 如果正在拖动，更新鼠标偏移量
            if (isDragging) {
                offsetX *= scale;
                offsetY *= scale;
                handleMouseMove(e);
            }
        }

        // 在窗口大小发生变化时调整缩放
        window.addEventListener('resize', adjustZoom);
        // 在窗口大小发生变化时，基于缩放后的坐标计算
        window.addEventListener('resize', handleResize);

        // 页面加载时进行一次初始的调整
        adjustZoom();

    </script>


    <script>

        function tishi() {

            // 触发音乐播放，移动图片
            toggleMusic();
            // 移动图片
            tupian();
        }
        // 获取图片元素
        var image = document.getElementById('movingImage');
        // 初始化位置、速度、屏幕宽度、移动方向和动画间隔
        var position = 0;
        var speed = 2;
        var viewportWidth = window.innerWidth;
        var movingRight = true;
        var movementInterval;
        var scale = parseFloat(getComputedStyle(document.body).zoom) || 1; // 获取zoom比例
        console.log("页面的缩放比例00（scale）:", scale); // 打印scale的值

        // 移动图片的函数
        function moveImage() {
            var viewportWidth = window.innerWidth; // 动态获取窗口宽度
            if (movementInterval) {
                if (movingRight) {
                    position += speed;
                    image.style.left = position + 'px';

                    if (position >= (viewportWidth * 0.85) /scale) {
                        console.log("屏幕实际宽度: " + viewportWidth); // 添加打印语句 
                        console.log("适配缩放屏幕宽度: " + viewportWidth /scale); // 添加打印语句 
                        console.log("计算右移到的像素: " + viewportWidth /scale * 0.85); // 添加打印语句 
                        movingRight = false;
                        image.style.transform = "scaleX(1)";
                    }
                } else {
                    position -= speed;
                    image.style.left = position + 'px';
                    if (position <= (viewportWidth * 0.02)/scale) {
                        console.log("计算左移到的像素: " + viewportWidth * 0.02/scale); // 添加打印语句 
                        movingRight = true;
                        image.style.transform = "scaleX(-1)";
                    }
                }
                movementInterval = requestAnimationFrame(moveImage);
            }
        }

        // 启动移动
        function startMovement() {
            if (!movementInterval) {
                movementInterval = requestAnimationFrame(moveImage);

            }
        }

        // 停止移动
        function stopMovement() {
            if (movementInterval) {
                console.log("Stopping movement");
                console.log("Current movementInterval value: " + movementInterval);
                cancelAnimationFrame(movementInterval);
                movementInterval = null; // 重置 movementInterval
                console.log("After cancelAnimationFrame: " + movementInterval);
            }
        }

        // 获取音乐元素和音乐播放状态
        var music = document.getElementById('backgroundMusic');
        var isPlaying = false;


        function toggleMusic() {
            // 隐藏提示图片
            var images = document.getElementsByClassName('tishi');
            for (var i = 0; i < images.length; i++) {
                images[i].style.display = 'none';
            }
            // 切换音乐播放状态   
            if (isPlaying) {
                music.pause();
            } else {
                music.play();
            }
            isPlaying = !isPlaying;

            // 同时切换图片移动状态
            if (movementInterval) {
                stopMovement();
            } else {
                startMovement();
            }
        }
    </script>

    <script>
        let container = document.querySelector('.imgbox-container');
        let images = document.querySelectorAll('.imgbox-container .box');
        let imageWidth = images[0].offsetWidth;
        let totalWidth = images.length * imageWidth;
        let scrollDirection = 1;
        let currentScroll = 0;

        function scrollContainer() {
            currentScroll += scrollDirection;
            if (currentScroll >= totalWidth || currentScroll < 0) {
                scrollDirection = -scrollDirection;
            }
            container.scrollLeft = Math.abs(currentScroll % totalWidth);
        }

        setInterval(scrollContainer, 10);

        function tupian() {
            // 隐藏提示图片
            var images = document.getElementsByClassName('tishi');
            for (var i = 0; i < images.length; i++) {
                images[i].style.display = 'none';
            }
        }

    </script>


    <script>
        var currentDate = new Date();
        var year = currentDate.getFullYear();
        var month = currentDate.getMonth() + 1; // 月份从 0 开始，所以要加 1
        var day = currentDate.getDate();
        document.getElementById("year").innerText = "非官方网站，仅展示电击小子相关内容！！！ " + "Copyright© " + year + "年" + month + "月" + day + "日";

        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://www.electroboy.cn";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

    <script type="text/javascript">
        $(function () {
            getIndexBanner();
            getNewsList1();
            getNewsIndexLeft();
            getIndexProduct();
            // getIndexVedio();
        }
        )
    </script>

    <script type="text/javascript">
        jQuery(document).ready(function () {

            $('.GetPPT li').click(function () {
                var alink = $(this).attr("date-a");
                if (alink != "" && alink != "null")
                    window.open(alink);
            });

            jQuery('.tp-banner').revolution({
                delay: 4000,
                startwidth: 1300,
                startheight: 664,
                hideThumbs: 10,
                fullWidth: "on",
                forceFullWidth: "on",
                onHoverStop: "on",
                navigationType: "none"
            });

            Carousel.init($(".pictureSlider"));
            $('#sildes').olvSlides(
                {
                    thumb: true,
                    thumbPage: true,
                    thumbDirection: "Y",
                    effect: 'fade'
                }
            );
        })
    </script>

    <!-- tts语音-->
    <script>
        // 关闭控制面板
        function hideControlPanel() {
            document.getElementById('controlPanel').style.display = 'none';
            // console.log('hideControlPanel called');
        }
        var isDragging = false;
        var offsetX, offsetY;

        function startDrag(e) {
            if (e.target.id !== 'volumeSlider') { // 检查是否在音量滑块上
                isDragging = true;
                offsetX = e.clientX - document.getElementById('controlPanel').offsetLeft;
                offsetY = e.clientY - document.getElementById('controlPanel').offsetTop;
            }
        }
        // 音量
        function adjustVolume(e) {
            var volumeSlider = document.getElementById('volumeSlider');
            audio.volume = e.target.value;
        }

        var audio = document.getElementById('audioPlayer');
        var isPlaying = false;
        var currentSongIndex = 0;
        var playPauseIcon = document.getElementById('playPauseIcon');

        function updatePlayPauseButton() {
            var playPauseButton = document.getElementById('playPauseButton');
            if (isPlaying) {
                playPauseButton.textContent = '暂停';
                playPauseIcon.src = './image/donghua.gif'; // 切换到播放图标
                document.getElementById('controlPanel').style.display = 'block';// 开启控制面板
            } else {
                playPauseButton.textContent = '播放';
                playPauseIcon.src = './image/donghua.webp'; // 切换到暂停图标
            }
        }

        audio.addEventListener('ended', function () {
            isPlaying = false;
            updatePlayPauseButton();

        });

        // tts合成路径 音频路径
        var audioFiles = [
            {
                src: './audio/tts0.mp3',
                name: 'TTS0'
            },
            {
                src: './audio/tts1.mp3',
                name: 'TTS1'
            },
            {
                src: './audio/tts2.mp3',
                name: 'TTS2'
            },
            {
                src: './audio/tts3.mp3',
                name: 'TTS3'
            },
            {
                src: './audio/火星大力拳.mp3',
                name: '火星大力拳'
            },
            {
                src: './audio/雷霆电击光.mp3',
                name: '雷霆电击光'
            },
            {
                src: './audio/变身.mp3',
                name: '变身'
            },
            {
                src: './audio/变身2.mp3',
                name: '变身V2.0'
            },
        ];

        function playMusic(index) {
            audio.src = audioFiles[index].src;
            audio.play();
            isPlaying = true;
            currentSongIndex = index;
            updatePlayPauseButton();
            document.getElementById('songTitle').textContent = `当前语音：${audioFiles[index].name}`;
        }

            // 随机台词1
        var lastPlayedIndex = -1;

            function playRandomMusic() {
            var randomIndex;
            do {
                randomIndex = Math.floor(Math.random() * audioFiles.length);
            } while (randomIndex === lastPlayedIndex || (audioFiles[randomIndex].name !== '火星大力拳' && audioFiles[randomIndex].name !== '雷霆电击光' && audioFiles[randomIndex].name !== '变身' && audioFiles[randomIndex].name !== '变身V2.0'));

            lastPlayedIndex = randomIndex;

            audio.src = audioFiles[randomIndex].src;
            audio.play();
            isPlaying = true;
            updatePlayPauseButton();
            document.getElementById('songTitle').textContent = `当前台词：${audioFiles[randomIndex].name}`;
            }

        function togglePlayPause() {
            if (isPlaying) {
                audio.pause();
                isPlaying = false;
            } else {
                audio.play();
                isPlaying = true;
            }
            updatePlayPauseButton();
            if (isPlaying) {
                document.getElementById('songTitle').textContent = `当前语音：${audioFiles[currentSongIndex].name}`;
            } else {
                document.getElementById('songTitle').textContent = '当前语音：暂停';
            }
        }

        // 更新进度条和时间显示
        audio.addEventListener('timeupdate', function () {
            const percent = (audio.currentTime / audio.duration) * 100;
            const progressBarIndicator = document.querySelector('.progress-indicator');
            progressBarIndicator.style.width = percent + '%';

            const currentTimeDisplay = document.querySelector('.current-time');
            currentTimeDisplay.textContent = formatTime(audio.currentTime);

            const totalTimeDisplay = document.querySelector('.total-time');
            totalTimeDisplay.textContent = formatTime(audio.duration);
        });

        function formatTime(seconds) {
            if (isNaN(seconds)) {
                return '00:00';
            }

            const totalSeconds = Math.floor(seconds); // 直接取整，忽略小数部分
            const minutes = Math.floor(totalSeconds / 60);
            const remainingSeconds = totalSeconds % 60;
            return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
        }
    </script>

    <!-- 移动窗口，音乐控制面板 -->
    <script>
        // document.onmousemove = function (e) {
        //   if (isDragging) {
        //     var controlPanel = document.getElementById('controlPanel');
        //     controlPanel.style.left = e.clientX - offsetX + 'px';
        //     controlPanel.style.top = e.clientY - offsetY + 'px';
        //   }
        // };
        var isDragging = false;
        var offsetX, offsetY;
        var controlPanel = document.getElementById('controlPanel');
        var scale = parseFloat(getComputedStyle(document.body).zoom) || 1; // 获取zoom比例
        console.log("页面的缩放比例（scale）:", scale); // 打印scale的值

        // offsetX 和 offsetY 将基于缩放后的坐标计算，从而在拖动过程中得到正确的移动距离。
        function handleResize() {
            scale = parseFloat(getComputedStyle(document.body).zoom) || 1;
            console.log("页面的缩放比例（scale）:", scale);

            // 如果正在拖动，更新鼠标偏移量
            if (isDragging) {
                offsetX *= scale;
                offsetY *= scale;
                handleMouseMove(e);
            }
        }

        function startDrag(e) {
            isDragging = true;
            offsetX = e.clientX - controlPanel.offsetLeft * scale;
            offsetY = e.clientY - controlPanel.offsetTop * scale;
            document.body.style.cursor = 'move';
        }

        function stopDrag() {
            isDragging = false;
            document.body.style.cursor = 'default';
        }

        document.onmousemove = function (e) {
            if (isDragging) {
                var scale = parseFloat(getComputedStyle(document.body).zoom) || 1;
                console.log("鼠标移动时，页面的缩放比例（scale）:", scale);
                var viewportWidth = window.innerWidth;
                var viewportHeight = window.innerHeight;
                var controlPanelWidth = controlPanel.offsetWidth * scale;
                var controlPanelHeight = controlPanel.offsetHeight * scale;
                var edgePadding = 20 * scale; // 边缘安全距离

                console.log("屏幕宽度（考虑缩放）:", viewportWidth);
                console.log("控制面板宽度（考虑缩放）:", controlPanelWidth);

                var newLeft = Math.min(Math.max(e.clientX - offsetX, 0), viewportWidth - controlPanelWidth);
                var newTop = Math.min(Math.max(e.clientY - offsetY, 0), viewportHeight - controlPanelHeight);

                // 应用新的位置
                controlPanel.style.left = newLeft / scale + 'px';
                controlPanel.style.top = newTop / scale + 'px';
            }
        };

    </script>

    <!-- 音量图标显示隐藏 -->
    <script>
        function toggleSlider(event) {
            var slider = document.querySelector('.volume-slider');
            slider.classList.toggle('active');
            event.stopPropagation(); // 阻止事件冒泡，防止立即隐藏
        }

        document.addEventListener('click', function (e) {
            var slider = document.querySelector('.volume-slider');
            if (!slider.contains(e.target)) {
                slider.classList.remove('active');
            }
        });
    </script>

</body>

</html>